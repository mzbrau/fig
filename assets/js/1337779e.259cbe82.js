"use strict";(self.webpackChunkfig_documentation=self.webpackChunkfig_documentation||[]).push([[169],{59105:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"features/settings-management/conditional-settings","title":"Conditional Settings (DependsOn attribute)","description":"The DependsOn attribute provides a powerful way to create conditional visibility for settings based on the value of another property. This is particularly useful when certain settings are only relevant when another setting has specific values.","source":"@site/docs/features/settings-management/22-conditional-settings.md","sourceDirName":"features/settings-management","slug":"/features/settings-management/conditional-settings","permalink":"/docs/next/features/settings-management/conditional-settings","draft":false,"unlisted":false,"editUrl":"https://github.com/mzbrau/fig/tree/main/doc/fig-documentation/docs/features/settings-management/22-conditional-settings.md","tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"sidebar_position":22},"sidebar":"tutorialSidebar","previous":{"title":"Value History","permalink":"/docs/next/features/settings-management/value-history"},"next":{"title":"Indent Attribute","permalink":"/docs/next/features/settings-management/indent"}}');var s=i(74848),a=i(28453);const l={sidebar_position:22},o="Conditional Settings (DependsOn attribute)",r={},d=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Example",id:"basic-example",level:3},{value:"Multiple Valid Values",id:"multiple-valid-values",level:3},{value:"Enum Dependencies",id:"enum-dependencies",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Validation",id:"validation",level:2},{value:"Visual Indicators",id:"visual-indicators",level:2},{value:"Automatic Indentation",id:"automatic-indentation",level:3},{value:"Dependency Indicator",id:"dependency-indicator",level:3},{value:"Behavior",id:"behavior",level:2},{value:"Real-time Updates",id:"real-time-updates",level:3},{value:"Persistence",id:"persistence",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"conditional-settings-dependson-attribute",children:"Conditional Settings (DependsOn attribute)"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"DependsOn"})," attribute provides a powerful way to create conditional visibility for settings based on the value of another property. This is particularly useful when certain settings are only relevant when another setting has specific values."]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["When a setting has the ",(0,s.jsx)(n.code,{children:"DependsOn"})," attribute:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It will only be visible when the specified property has one of the defined valid values"}),"\n",(0,s.jsx)(n.li,{children:"The setting's indentation level is automatically incremented by 1 to show the visual hierarchy"}),"\n",(0,s.jsx)(n.li,{children:"A visual indicator shows on the controlling setting to indicate how many settings depend on it"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Note that this in no way impacts the value of these settings. It will remain unchanged regardless of if the setting is visible or not.\nHowever, generally it is expected that these settings will be ignored by the application if not relevant."})}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.h3,{id:"basic-example",children:"Basic Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'[Setting("Enable authentication")]\npublic bool UseAuthentication { get; set; } = false;\n\n[Setting("Username for authentication")]\n[DependsOn(nameof(UseAuthentication), true)]\npublic string? Username { get; set; }\n\n[Setting("Password for authentication")]\n[Secret]\n[DependsOn(nameof(UseAuthentication), true)]\npublic string? Password { get; set; }\n'})}),"\n",(0,s.jsx)(n.p,{children:"In this example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["When ",(0,s.jsx)(n.code,{children:"UseAuthentication"})," is ",(0,s.jsx)(n.code,{children:"false"}),", both ",(0,s.jsx)(n.code,{children:"Username"})," and ",(0,s.jsx)(n.code,{children:"Password"})," settings are hidden"]}),"\n",(0,s.jsxs)(n.li,{children:["When ",(0,s.jsx)(n.code,{children:"UseAuthentication"})," is ",(0,s.jsx)(n.code,{children:"true"}),", both ",(0,s.jsx)(n.code,{children:"Username"})," and ",(0,s.jsx)(n.code,{children:"Password"})," settings become visible"]}),"\n",(0,s.jsx)(n.li,{children:"Both dependent settings are automatically indented to show they belong to the authentication group"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"multiple-valid-values",children:"Multiple Valid Values"}),"\n",(0,s.jsx)(n.p,{children:"You can specify multiple valid values that will make the dependent setting visible:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'[Setting("Connection type")]\n[ValidValues("Database", "API", "File", "Memory")]\npublic string ConnectionType { get; set; } = "Memory";\n\n[Setting("Database connection string")]\n[DependsOn(nameof(ConnectionType), "Database")]\npublic string? DatabaseConnectionString { get; set; }\n\n[Setting("API endpoint URL")]\n[DependsOn(nameof(ConnectionType), "API")]\npublic string? ApiEndpoint { get; set; }\n\n[Setting("File path")]\n[DependsOn(nameof(ConnectionType), "File")]\npublic string? FilePath { get; set; }\n\n[Setting("Cache configuration")]\n[DependsOn(nameof(ConnectionType), "Database", "API")]\npublic bool EnableCaching { get; set; } = true;\n'})}),"\n",(0,s.jsx)(n.p,{children:"In this example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DatabaseConnectionString"})," is only visible when ",(0,s.jsx)(n.code,{children:"ConnectionType"}),' is "Database"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ApiEndpoint"})," is only visible when ",(0,s.jsx)(n.code,{children:"ConnectionType"}),' is "API"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FilePath"})," is only visible when ",(0,s.jsx)(n.code,{children:"ConnectionType"}),' is "File"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EnableCaching"})," is visible when ",(0,s.jsx)(n.code,{children:"ConnectionType"}),' is either "Database" or "API"']}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"enum-dependencies",children:"Enum Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"The attribute works seamlessly with enum properties:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'public enum LogLevel\n{\n    None,\n    Error,\n    Warning,\n    Information,\n    Debug\n}\n\n[Setting("Logging level")]\n[ValidValues(typeof(LogLevel))]\npublic LogLevel LoggingLevel { get; set; } = LogLevel.Information;\n\n[Setting("Log file path")]\n[DependsOn(nameof(LoggingLevel), LogLevel.Error, LogLevel.Warning, LogLevel.Information, LogLevel.Debug)]\npublic string? LogFilePath { get; set; }\n\n[Setting("Enable debug output")]\n[DependsOn(nameof(LoggingLevel), LogLevel.Debug)]\npublic bool EnableDebugOutput { get; set; } = true;\n'})}),"\n",(0,s.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"dependsOnProperty"})," (string): The name of the property this setting depends on. Must be a valid property name within the same settings class."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"validValues"})," (params object[]): One or more values that will make this setting visible. Values are automatically converted to strings for comparison."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"validation",children:"Validation"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"DependsOn"})," attribute includes built-in validation:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The referenced property name must exist in the same settings class"}),"\n",(0,s.jsx)(n.li,{children:"At least one valid value must be specified"}),"\n",(0,s.jsxs)(n.li,{children:["If the referenced property doesn't exist, an ",(0,s.jsx)(n.code,{children:"InvalidSettingException"})," is thrown during registration"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"visual-indicators",children:"Visual Indicators"}),"\n",(0,s.jsx)(n.h3,{id:"automatic-indentation",children:"Automatic Indentation"}),"\n",(0,s.jsxs)(n.p,{children:["Settings with the ",(0,s.jsx)(n.code,{children:"DependsOn"})," attribute are automatically indented by one level (10px) to create a visual hierarchy, making it clear which settings are dependent on others."]}),"\n",(0,s.jsx)(n.h3,{id:"dependency-indicator",children:"Dependency Indicator"}),"\n",(0,s.jsx)(n.p,{children:"The controlling setting (the one being depended upon) displays a small eye icon that shows how many settings depend on its value. Hovering over this icon reveals the exact count."}),"\n",(0,s.jsx)(n.h2,{id:"behavior",children:"Behavior"}),"\n",(0,s.jsx)(n.h3,{id:"real-time-updates",children:"Real-time Updates"}),"\n",(0,s.jsx)(n.p,{children:"When the controlling setting's value changes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dependent settings are immediately shown or hidden based on the new value"}),"\n",(0,s.jsx)(n.li,{children:"The UI updates in real-time without requiring a page refresh"}),"\n",(0,s.jsx)(n.li,{children:"Hidden settings retain their values but are not visible to users"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"persistence",children:"Persistence"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hidden settings maintain their configured values"}),"\n",(0,s.jsx)(n.li,{children:"When a setting becomes visible again, it shows the previously configured value"}),"\n",(0,s.jsx)(n.li,{children:"Values of hidden settings are still sent to the application"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(96540);const s={},a=t.createContext(s);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);