"use strict";(self.webpackChunkfig_documentation=self.webpackChunkfig_documentation||[]).push([[3976],{2053:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>g,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"intro","title":"Introduction","description":"To get up and running with Fig, you\'ll need to set up the API, Web and integrate the Fig.Client nuget package into your application.","source":"@site/docs/intro.md","sourceDirName":".","slug":"/intro","permalink":"/docs/next/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/mzbrau/fig/tree/main/doc/fig-documentation/docs/intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Client Configuration","permalink":"/docs/next/client-configuration"}}');var r=i(74848),s=i(28453);const l={sidebar_position:1},c="Introduction",a={},o=[{value:"Install API and Web Client",id:"install-api-and-web-client",level:2},{value:"Log in to Web Client",id:"log-in-to-web-client",level:2},{value:"Integrate Client",id:"integrate-client",level:2},{value:"Fig NuGet Packages",id:"fig-nuget-packages",level:2},{value:"Core Packages",id:"core-packages",level:3},{value:"Fig.Client",id:"figclient",level:4},{value:"Fig.Client.Abstractions",id:"figclientabstractions",level:4},{value:"Secret Provider Packages",id:"secret-provider-packages",level:3},{value:"Fig.Client.SecretProvider.Azure",id:"figclientsecretproviderazure",level:4},{value:"Fig.Client.SecretProvider.Aws",id:"figclientsecretprovideraws",level:4},{value:"Fig.Client.SecretProvider.Google",id:"figclientsecretprovidergoogle",level:4},{value:"Fig.Client.SecretProvider.Docker",id:"figclientsecretproviderdocker",level:4},{value:"Fig.Client.SecretProvider.Dpapi",id:"figclientsecretproviderdpapi",level:4},{value:"Testing and Development Packages",id:"testing-and-development-packages",level:3},{value:"Fig.Client.Testing",id:"figclienttesting",level:4},{value:"Fig.Client.Contracts",id:"figclientcontracts",level:4},{value:"Installation Examples",id:"installation-examples",level:3},{value:"Documentation Links",id:"documentation-links",level:3},{value:"Example Setup using WSL",id:"example-setup-using-wsl",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,r.jsx)("iframe",{width:"100%",height:"450",src:"https://www.youtube.com/embed/-2Bth4m0RcM?si=VKaqJBLBLMdFKRLH",title:"15 new features in Fig 2.0",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),"\n",(0,r.jsx)(n.h1,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsxs)(n.p,{children:["To get up and running with Fig, you'll need to set up the API, Web and integrate the ",(0,r.jsx)(n.code,{children:"Fig.Client"})," nuget package into your application."]}),"\n",(0,r.jsx)(n.h2,{id:"install-api-and-web-client",children:"Install API and Web Client"}),"\n",(0,r.jsx)(n.p,{children:"The API and Web Clients can be installed using Docker. This guide assumes docker is installed and running."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Clone the ",(0,r.jsx)(n.a,{href:"https://github.com/mzbrau/fig",children:"fig repository"})," and use the ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," file included."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Open a terminal / command prompt, navigate to the directory containing the docker-compose file and type ",(0,r.jsx)(n.code,{children:"docker-compose up"})," to download the containers and run them."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"log-in-to-web-client",children:"Log in to Web Client"}),"\n",(0,r.jsxs)(n.p,{children:["Navigate to ",(0,r.jsx)(n.code,{children:"http://localhost:7148"})," and at the login prompt enter user: ",(0,r.jsx)(n.code,{children:"admin"})," password: ",(0,r.jsx)(n.code,{children:"admin"}),". You should see the administration view of fig with all options available."]}),"\n",(0,r.jsx)(n.h2,{id:"integrate-client",children:"Integrate Client"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["In this guide, we'll create an ASP.NET project from scratch and integrate the ",(0,r.jsx)(n.code,{children:"Fig.Client"})," to use fig for configuration. However the same instructions apply if you have an existing project. Just skip the project creation."]})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Create new ASP.NET project"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet new webapi\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open the project in your favourite IDE"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Add ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client",children:"Fig.Client"})})," nuget package. You might want to add a secret provider nuget package too"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a new class to hold your application settings, extending the SettingsBase class. For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'public class ExampleSettings : SettingsBase\n{\n    public override string ClientName => "ExampleService";\n\n    [Setting("My favourite animal")]\n    public string FavouriteAnimal { get; set; } = "Cow"\n\n    [Setting("My favourite number")]\n    public int FavouriteNumber { get; set; } = 66;\n    \n    [Setting("True or false, your choice...")]\n    public bool TrueOrFalse { get; set; } = true;\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Register Fig as a configuration provider in the ",(0,r.jsx)(n.code,{children:"program.cs"})," file."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'builder.Configuration.SetBasePath(GetBasePath())\n .AddJsonFile("appsettings.json", optional: true, reloadOnChange: true)\n .AddFig<Settings>(options =>\n {\n     options.ClientName = "AspNetApi";\n     options.LoggerFactory = loggerFactory;\n     options.CommandLineArgs = args;\n     //options.ClientSecretProviders = [new DockerSecretProvider(), new DpapiSecretProvider()]; // if you added a secret provider\n     o.ClientSecretOverride = "be633c90474448c382c47045b2e172d5xx"; // not for production use, use a secret provider\n });\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Register Fig with the host:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"builder.Host.UseFig<Settings>();\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Access the settings via the ",(0,r.jsx)(n.code,{children:"IOptions"})," or ",(0,r.jsx)(n.code,{children:"IOptionsMonitor"})," interface. E.g."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"public WeatherForecastController(IOptionsMonitor<ExampleSettings> settings)\n{\n    _settings = settings;\n}\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Add an environment variable called ",(0,r.jsx)(n.code,{children:"FIG_API_URI"})," with the URI of the Fig API. For example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"FIG_API_URI=https://localhost:7281\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Add a client secret (see ",(0,r.jsx)(n.a,{href:"/docs/next/features/client-secrets/client-secret-providers",children:"Client Secrets"})," section for details on how to do that)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.strong,{children:"examples folder"})," in the source repository for more examples."]}),"\n",(0,r.jsx)(n.h2,{id:"fig-nuget-packages",children:"Fig NuGet Packages"}),"\n",(0,r.jsx)(n.p,{children:"Fig provides several NuGet packages to support different integration scenarios and environments:"}),"\n",(0,r.jsx)(n.h3,{id:"core-packages",children:"Core Packages"}),"\n",(0,r.jsx)(n.h4,{id:"figclient",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client",children:"Fig.Client"})}),"\n",(0,r.jsx)(n.p,{children:"The main client library for integrating Fig into your applications. This is the primary package you'll need for most scenarios."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Client library to include in your project when using Fig managed settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Target Framework"}),": .NET Standard 2.0"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage"}),": Configuration management, settings integration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": ",(0,r.jsx)(n.a,{href:"/docs/next/client-configuration",children:"Client Configuration"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"figclientabstractions",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.Abstractions",children:"Fig.Client.Abstractions"})}),"\n",(0,r.jsx)(n.p,{children:"Lightweight abstractions and attributes for Fig configuration settings that can be referenced by third-party libraries without requiring the full Fig.Client package."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Abstractions and attributes for Fig configuration settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Target Framework"}),": .NET Standard 2.0"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage"}),": Third-party library integration, minimal dependencies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": See active pull request for integration scenarios"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"secret-provider-packages",children:"Secret Provider Packages"}),"\n",(0,r.jsx)(n.p,{children:"Fig supports secure secret management through specialized provider packages:"}),"\n",(0,r.jsx)(n.h4,{id:"figclientsecretproviderazure",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.SecretProvider.Azure",children:"Fig.Client.SecretProvider.Azure"})}),"\n",(0,r.jsx)(n.p,{children:"Azure Key Vault integration for secure secret management."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Fig secret provider for Azure Key Vault"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": ",(0,r.jsx)(n.a,{href:"/docs/next/features/azure-keyvault-integration",children:"Azure KeyVault Integration"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"figclientsecretprovideraws",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.SecretProvider.Aws",children:"Fig.Client.SecretProvider.Aws"})}),"\n",(0,r.jsx)(n.p,{children:"AWS Secrets Manager integration for secure secret management."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Fig secret provider for AWS Secrets Manager"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"figclientsecretprovidergoogle",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.SecretProvider.Google",children:"Fig.Client.SecretProvider.Google"})}),"\n",(0,r.jsx)(n.p,{children:"Google Cloud Secret Manager integration for secure secret management."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Fig secret provider for Google Cloud Secret Manager"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"figclientsecretproviderdocker",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.SecretProvider.Docker",children:"Fig.Client.SecretProvider.Docker"})}),"\n",(0,r.jsx)(n.p,{children:"Docker secrets integration for containerized environments."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Fig secret provider for Docker secrets"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"figclientsecretproviderdpapi",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.SecretProvider.Dpapi",children:"Fig.Client.SecretProvider.Dpapi"})}),"\n",(0,r.jsx)(n.p,{children:"Windows Data Protection API (DPAPI) integration for Windows environments."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Fig secret provider for DPAPI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Platform"}),": Windows only"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"testing-and-development-packages",children:"Testing and Development Packages"}),"\n",(0,r.jsx)(n.h4,{id:"figclienttesting",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.Testing",children:"Fig.Client.Testing"})}),"\n",(0,r.jsx)(n.p,{children:"Testing framework for Fig clients that allows developers to unit and integration test settings-related functionality."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": A testing framework for Fig clients for unit and integration testing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage"}),": Unit testing, integration testing, development workflows"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"figclientcontracts",children:(0,r.jsx)(n.a,{href:"https://www.nuget.org/packages/Fig.Client.Contracts",children:"Fig.Client.Contracts"})}),"\n",(0,r.jsx)(n.p,{children:"Internal contracts and interfaces used by Fig client components."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Fig client contracts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Usage"}),": Internal package, typically not directly referenced"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"installation-examples",children:"Installation Examples"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Basic Fig integration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet add package Fig.Client\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"With Azure Key Vault:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet add package Fig.Client\ndotnet add package Fig.Client.SecretProvider.Azure\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"With testing support:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet add package Fig.Client\ndotnet add package Fig.Client.Testing\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For third-party libraries (minimal dependencies):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet add package Fig.Client.Abstractions\n"})}),"\n",(0,r.jsx)(n.h3,{id:"documentation-links",children:"Documentation Links"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/next/client-configuration",children:"Client Configuration"})," - Basic Fig.Client setup"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/next/features/client-secrets/client-secret-providers",children:"Client Secrets"})," - Secret provider configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/next/features/azure-keyvault-integration",children:"Azure KeyVault Integration"})," - Azure-specific setup"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/next/examples",children:"Examples"})," - Code examples and usage patterns"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-setup-using-wsl",children:"Example Setup using WSL"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"fig-local-machine-setup",src:i(53923).A+"",width:"1634",height:"779"})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},53923:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/fig-local-machine-setup-d581e7926ace2cfe0edb4b0f241cf35d.png"},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var t=i(96540);const r={},s=t.createContext(r);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);