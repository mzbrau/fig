"use strict";(self.webpackChunkfig_documentation=self.webpackChunkfig_documentation||[]).push([[4480],{2926:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"features/client-settings-override","title":"Client Settings Overrides","description":"In some situations you want the settings to be driven by the client. For example when deploying applications using Docker compose if you have address to other containers within the compose file, you can reference them by their container name. In that case, you would like the setting to be set by the docker compose file rather than having to be manually set in Fig or use a default.","source":"@site/docs/features/23-client-settings-override.md","sourceDirName":"features","slug":"/features/client-settings-override","permalink":"/docs/next/features/client-settings-override","draft":false,"unlisted":false,"editUrl":"https://github.com/mzbrau/fig/tree/main/doc/fig-documentation/docs/features/23-client-settings-override.md","tags":[],"version":"current","sidebarPosition":23,"frontMatter":{"sidebar_position":23,"sidebar_label":"Client Settings Overrides"},"sidebar":"tutorialSidebar","previous":{"title":"Externally Managed Settings","permalink":"/docs/next/features/externally-managed-settings"},"next":{"title":"Environment Variables","permalink":"/docs/next/features/environment-variables"}}');var s=n(4848),r=n(8453);const a={sidebar_position:23,sidebar_label:"Client Settings Overrides"},o="Client Settings Overrides",l={},c=[];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"client-settings-overrides",children:"Client Settings Overrides"})}),"\n",(0,s.jsx)(t.p,{children:"In some situations you want the settings to be driven by the client. For example when deploying applications using Docker compose if you have address to other containers within the compose file, you can reference them by their container name. In that case, you would like the setting to be set by the docker compose file rather than having to be manually set in Fig or use a default."}),"\n",(0,s.jsx)(t.p,{children:"In this case, we can use the client settings override feature. Just set an environment variable with the exact same name as the setting you wish to set prefixed by the client name and the Fig client library will read that on startup and send that along with the registration information. If client overrides are enabled on the API those values will be used to update the setting value."}),"\n",(0,s.jsx)(t.p,{children:"For example, imagine you have an application called ProductService with the following settings:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-c#",children:'public class ProductService : SettingsBase\n{\n    public override string ClientDescription => "Sample Product Service";\n\n    [Setting("This is the address of a website", "http://www.google.com")]\n    public string WebsiteAddress { get; set; }\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"You could then define your docker compose file like this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"productserviceapp:\n    image: myProductServiceImage:latest\n    container_name: ProductServiceImage\n    environment:\n      - ProductService__WebSiteAddress=http://bing.com\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If overrides are enabled for this client, the value '",(0,s.jsx)(t.a,{href:"http://bing.com",children:"http://bing.com"}),"' will be sent along with the registration of the client and will be used to update the value of WebsiteAddress."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"You will be able to change the value in the Fig web application but it will revert back to the override value again when you next restart the client application. If that is undesirable, you can always turn off the client override feature."})}),"\n",(0,s.jsx)(t.p,{children:"This feature is enabled by default but can be disabled in the fig configuration which is available when logged into the web application as an administrator."}),"\n",(0,s.jsx)(t.p,{children:"It is also possible to enter a regular expression there to define which clients will be allowed to override their settings and which will not. The regular expression is evaluated against the client name."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(6540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);