"use strict";(self.webpackChunkfig_documentation=self.webpackChunkfig_documentation||[]).push([[3368],{483:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"features/settings-management/validation","title":"Validation","description":"String, integer or long type settings can have custom regular expression that will be used to validate the setting. If a value is entered that does not match the regex then a custom message will be shown to the person configuring the setting and saving will not be allowed.","source":"@site/docs/features/settings-management/validation.md","sourceDirName":"features/settings-management","slug":"/features/settings-management/validation","permalink":"/docs/features/settings-management/validation","draft":false,"unlisted":false,"editUrl":"https://github.com/mzbrau/fig/tree/main/doc/fig-documentation/docs/features/settings-management/validation.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Value History","permalink":"/docs/features/settings-management/value-history"},"next":{"title":"Secret Settings","permalink":"/docs/features/settings-management/secret-settings"}}');var a=n(4848),s=n(8453);const l={sidebar_position:3},r="Validation",o={},d=[{value:"Usage",id:"usage",level:2},{value:"Class-level Validation",id:"class-level-validation",level:2},{value:"Appearance",id:"appearance",level:2},{value:"Overriding via Environment Variable",id:"overriding-via-environment-variable",level:2}];function c(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"validation",children:"Validation"})}),"\n",(0,a.jsx)(t.p,{children:"String, integer or long type settings can have custom regular expression that will be used to validate the setting. If a value is entered that does not match the regex then a custom message will be shown to the person configuring the setting and saving will not be allowed."}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'[Setting("This is a string", "Horse")]\n[Validation("[0-9a-zA-Z]{5,}", "Must have 5 or more characters")]\npublic string AStringSetting { get; set; } = null!;\n'})}),"\n",(0,a.jsx)(t.p,{children:"It is also possible to use some built in regular expressions for common validation checks. For example:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'[Setting("This is a string", "Horse")]\n[Validation(ValidationType.NotEmpty)]\npublic string AStringSetting { get; set; } = null!;\n'})}),"\n",(0,a.jsx)(t.h2,{id:"class-level-validation",children:"Class-level Validation"}),"\n",(0,a.jsx)(t.p,{children:"You can also apply validation rules at the class level, which will automatically apply to properties of specified types, unless they already have their own validation attributes. This is useful when you want to enforce consistent validation rules across multiple properties of the same type."}),"\n",(0,a.jsxs)(t.p,{children:["You can exclude properties from validation using ",(0,a.jsx)(t.code,{children:"[Validation(ValidationType.None)]"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'// Apply validation to all string properties that don\'t have their own validation attribute\n[Validation(@"[^\\s]+", "Value cannot contain spaces", typeof(string))]\n// Apply validation to all int properties that don\'t have their own validation attribute\n[Validation(@"[1-9][0-9]*", "Must be a positive number", typeof(int))]\npublic class ApplicationSettings\n{\n    [Setting("Username")]\n    // Will use class-level validation for strings: no spaces allowed\n    public string Username { get; set; } = null!;\n    \n    [Setting("Password")]\n    // Override class-level validation with property-specific validation\n    [Validation(@"[a-zA-Z0-9]{8,}", "Password must be at least 8 alphanumeric characters")]\n    public string Password { get; set; } = null!;\n    \n    [Setting("Age")]\n    // Will use class-level validation for integers: must be positive\n    public int Age { get; set; }\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"appearance",children:"Appearance"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Validation",src:n(6519).A+"",width:"1828",height:"410"})}),"\n",(0,a.jsx)(t.h2,{id:"overriding-via-environment-variable",children:"Overriding via Environment Variable"}),"\n",(0,a.jsxs)(t.p,{children:["The validation value can be overridden using an environment variable. It should be in the format ",(0,a.jsx)(t.code,{children:"FIG_SettingName_VALIDATIONREGEX"})," and ",(0,a.jsx)(t.code,{children:"FIG_SettingName_VALIDATIONEXPLANATION"})]}),"\n",(0,a.jsx)(t.p,{children:"Use a value of 'null' to clear the current value."})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},6519:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/validation-3389b1cc8cfd99182e431a76758a237b.png"},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var i=n(6540);const a={},s=i.createContext(a);function l(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);