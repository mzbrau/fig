"use strict";(globalThis.webpackChunkfig_documentation=globalThis.webpackChunkfig_documentation||[]).push([[7766],{14085(e,t,i){i.r(t),i.d(t,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"features/lookup-tables","title":"Lookup Tables","description":"Fig supports the concept of lookup tables. This is where a set of setting values supplied by a client can be used to create a dropdown to help the user select a valid value.","source":"@site/docs/features/11-lookup-tables.md","sourceDirName":"features","slug":"/features/lookup-tables","permalink":"/docs/next/features/lookup-tables","draft":false,"unlisted":false,"editUrl":"https://github.com/mzbrau/fig/tree/main/doc/fig-documentation/docs/features/11-lookup-tables.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"sidebar_label":"Lookup Tables"},"sidebar":"tutorialSidebar","previous":{"title":"Time Machine","permalink":"/docs/next/features/scheduling"},"next":{"title":"Keyboard Shortcuts","permalink":"/docs/next/features/keyboard-shortcuts"}}');var s=i(74848),a=i(28453);const o={sidebar_position:11,sidebar_label:"Lookup Tables"},l="Lookup Tables",r={},d=[{value:"Valid Values",id:"valid-values",level:2},{value:"Alias",id:"alias",level:2},{value:"Editing Lookup Tables",id:"editing-lookup-tables",level:2},{value:"Overriding via Environment Variable",id:"overriding-via-environment-variable",level:2},{value:"Lookup Table API",id:"lookup-table-api",level:2},{value:"Provider Defined Lookup Tables",id:"provider-defined-lookup-tables",level:2}];function p(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"lookup-tables",children:"Lookup Tables"})}),"\n",(0,s.jsx)(t.p,{children:"Fig supports the concept of lookup tables. This is where a set of setting values supplied by a client can be used to create a dropdown to help the user select a valid value."}),"\n",(0,s.jsx)(t.p,{children:"There are 2 potential use cases for this feature:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Constraining the user to a set of valid values that are not known at the time of writing the application."}),"\n",(0,s.jsx)(t.li,{children:"Adding a helpful alias to dropdown values to make it easier to understand."}),"\n"]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"From Fig 2.1, there are support for 2 different types of lookup table:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"User Defined"})," - these existed prior to this version and require the lookup table to be created manually."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Provider Defined"})," - this is the preferred option moving forward and allows the application to implement either (or both of) the ",(0,s.jsx)(t.code,{children:"ILookupProvider"})," or ",(0,s.jsx)(t.code,{children:"IKeyedLookupProvider"})," interfaces. See ",(0,s.jsx)(t.a,{href:"/docs/next/features/provider-defined-lookup-tables",children:"Provider Defined Lookup Tables"})," for details."]}),"\n"]})]}),"\n",(0,s.jsx)(t.h2,{id:"valid-values",children:"Valid Values"}),"\n",(0,s.jsxs)(t.p,{children:["Fig has support for adding ",(0,s.jsx)(t.a,{href:"/docs/next/features/settings-management/valid-values",children:"valid values"})," in the application and this assists the user to input a valid value by constraining their choices to a set of valid options."]}),"\n",(0,s.jsx)(t.p,{children:"However, in some cases, the list of valid options is now known. Consider the case where an application integrates towards an external system. The external system has a configurable structure where types can be configured. The application does not know ahead of types which types will be configured, but these are known at runtime. A lookup table can be created containing all the configured types and then in the application configuration, a dropdown will be created with the types for use."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-csharp",children:'[Setting("Types defined in the system")]\n[LookupTable("Types", LookupSource.UserDefined)]\npublic string? Types { get; set; }\n'})}),"\n",(0,s.jsx)(t.p,{children:"With this lookup table defined:"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"alt text",src:i(67199).A+"",width:"2806",height:"764"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Lookup table without an alias defined"})]}),"\n",(0,s.jsx)(t.p,{children:"The user gets a drop down list."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"alt text",src:i(89262).A+"",width:"2138",height:"700"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Dropdown defined by the lookup table"})]}),"\n",(0,s.jsx)(t.p,{children:"If the existing value is not in the list, it is added but marked as invalid."}),"\n",(0,s.jsx)(t.p,{children:"If no lookup table is defined, the property is just handled as a normal string property."}),"\n",(0,s.jsx)(t.h2,{id:"alias",children:"Alias"}),"\n",(0,s.jsx)(t.p,{children:"Another example of where this feature might be useful is providing context to meaningless values."}),"\n",(0,s.jsx)(t.p,{children:"For example if your application needs to reference a database id defined by another system. The id will just be a number of guid and can be difficult to configure."}),"\n",(0,s.jsx)(t.p,{children:"My adding mapping in the lookup table between the valid values and an alias of what they actually are, it can be easier to configure."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-csharp",children:'[Setting("The id of the type that should be supported by this service")]\n[LookupTable("Types", LookupSource.UserDefined)]\npublic long? SupportedTypeId { get; set; }\n'})}),"\n",(0,s.jsx)(t.p,{children:"The lookup table is defined with an alias:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"alt text",src:i(85365).A+"",width:"2302",height:"678"})}),"\n",(0,s.jsx)(t.p,{children:"Then the dropdown contains alias items"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"alt text",src:i(27829).A+"",width:"2086",height:"692"})}),"\n",(0,s.jsx)(t.p,{children:"When the user selects an item, only the value is set. The alias is just there for the user facing display."}),"\n",(0,s.jsx)(t.h2,{id:"editing-lookup-tables",children:"Editing Lookup Tables"}),"\n",(0,s.jsx)(t.p,{children:"When editing the lookup tables use a comma to separate the key and value and a new line to separate each row."}),"\n",(0,s.jsx)(t.p,{children:"If there is no alias, just separate them by new lines."}),"\n",(0,s.jsx)(t.p,{children:"You will need to reload the page for this change to take effect."}),"\n",(0,s.jsx)(t.h2,{id:"overriding-via-environment-variable",children:"Overriding via Environment Variable"}),"\n",(0,s.jsxs)(t.p,{children:["The lookup table key can be overridden using an environment variable. It should be in the format ",(0,s.jsx)(t.code,{children:"FIG_SettingName_LOOKUPTABLEKEY"})]}),"\n",(0,s.jsx)(t.p,{children:"Use a value of 'null' to clear the current value."}),"\n",(0,s.jsx)(t.h2,{id:"lookup-table-api",children:"Lookup Table API"}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/docs/next/integration-points/lookup-table-integration",children:"Lookup Table Integration"})," for details."]}),"\n",(0,s.jsx)(t.h2,{id:"provider-defined-lookup-tables",children:"Provider Defined Lookup Tables"}),"\n",(0,s.jsxs)(t.p,{children:["The recommended way of setting lookup table values is using the Fig.Client. See ",(0,s.jsx)(t.a,{href:"/docs/next/features/provider-defined-lookup-tables",children:"Provider Defined Lookup Tables"})," for more details."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},27829(e,t,i){i.d(t,{A:()=>n});const n=i.p+"assets/images/drop-down-with-alias-1d392ad58094e4841ba5dae93ed7df0c.png"},28453(e,t,i){i.d(t,{R:()=>o,x:()=>l});var n=i(96540);const s={},a=n.createContext(s);function o(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(a.Provider,{value:t},e.children)}},67199(e,t,i){i.d(t,{A:()=>n});const n=i.p+"assets/images/lookup-table-no-alias-66655d3697e3c22ded34e974edb17e88.png"},85365(e,t,i){i.d(t,{A:()=>n});const n=i.p+"assets/images/lookup-table-alias-dc053e9d1f83b5c7bbdef8278259d67a.png"},89262(e,t,i){i.d(t,{A:()=>n});const n=i.p+"assets/images/dropdown-lookup-table-2ca25b77d1d4dec96b96eefba253d5b0.png"}}]);